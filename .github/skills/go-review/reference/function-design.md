### 5. Function Design (FUNC)

**FUNC-01: 関数分割適切**

Check: 単一関数内に複数責任混在・ビジネスとインフラ層混在がないか
Why: 複数責任混在でテスト困難、再利用不可、保守コスト増
Fix: 単一責任原則適用、レイヤー分離、ヘルパー関数抽出

**FUNC-02: 引数設計適切**

Check: 位置引数過多・bool引数多用がないか、オプション対応は適切か
Why: 引数過多・bool多用で呼び出し側誤用、拡張困難
Fix: Functional Options Pattern利用、構造体引数化

**FUNC-03: 戻り値設計**

Check: named return最小化・error最後配置・多値返却適切か
Why: named return多用・error位置不統一でエラーハンドリング漏れ、API不整合
Fix: named return最小化、error最後配置、戻り値2-3個以内

**FUNC-04: 純粋関数推奨**

Check: グローバル変数参照・副作用混在・非決定的動作がないか
Why: 副作用混在でテスト困難、並列実行不可、予測不能
Fix: 引数で全入力受取、副作用分離、依存性注入

**FUNC-05: レシーバー設計適切**

Check: ポインタ/値レシーバー混在・大きな値レシーバーがないか
Why: レシーバー混在でコピーコスト、変更反映されない、可読性低下
Fix: ポインタレシーバー原則、レシーバー名1-2文字統一

**FUNC-06: メソッドセット設計**

Check: 関連性低いメソッド混在・God Object化・責任範囲不明確がないか
Why: メソッド混在で保守困難、テスト範囲肥大、理解コスト増
Fix: 凝集度高いメソッドセット、型分割、インターフェース分離

**FUNC-07: 初期化関数適切**

Check: New関数がエラー処理・バリデーション実装しているか
Why: エラー処理無しで不正状態オブジェクト、初期化失敗検知不可
Fix: NewXxx()でエラー返却、バリデーション実装、Must関数分離

**FUNC-08: 高次関数活用**

Check: コールバック・関数ポインタが適切に活用されているか
Why: コールバック未使用で拡張性低下、重複コード、柔軟性欠如
Fix: 戦略パターン適用、Functional Options、コールバック活用

**FUNC-09: ジェネリクス適切利用**

Check: interface{}多用・不要なジェネリクスがないか
Why: interface{}多用で型安全性欠如、過度なジェネリクスで複雑度増加
Fix: 型パラメータ適切使用、constraint定義、過度な抽象化回避

**FUNC-10: 関数ドキュメント充実**

Check: 全公開関数にgodoc・引数戻り値説明があるか
Why: godoc未記載でAPI理解困難、誤用増加、保守負荷
Fix: 全公開関数godoc、引数・戻り値・エラー条件明記
